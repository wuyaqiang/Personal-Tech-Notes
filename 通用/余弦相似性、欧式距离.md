## 1. 余弦相似性

* 通过测量两个向量的夹角的余弦值来度量它们之间的相似性。
* 取值范围是 [−1 , 1]，相同的两个向量之间的相似度为 1。
* 将 1 减去余弦相似度即为余弦距离，余弦距离的取值范围为 [0 , 2]，相同的两个向量余弦距离为 0。
* 余弦相似度关注的是向量之间的角度关系，不关心它们的绝对大小关系。

两个向量之间的余弦值可以确定两个向量是否大致指向相同的方向：
* 两个向量有相同的指向时，余弦相似度的值为 1；
* 两个向量夹角为 90° 时，余弦相似度的值为 0；
* 两个向量指向完全相反的方向时，余弦相似度的值为 - 1。
这结果是与向量的长度无关的，仅仅与向量的指向方向相关。

注意这上下界对任何维度的向量空间中都适用，而且余弦相似性最常用于高维正空间。例如在信息检索中，每个词项被赋予不同的维度，而一个文档由一个向量表示，其各个维度上的值对应于该词项在文档中出现的频率。余弦相似度因此可以给出两篇文档在其主题方面的相似度。

另外，它通常用于文本挖掘中的文件比较。此外，在数据挖掘领域中，会用到它来度量集群内部的凝聚力。


## 2. 余弦相似度和欧氏距离的对比
两者在归一化为单位向量的时候计算相似度结果完全一样，只不过余弦相似度是值越大越相似，欧式距离是值越小越相似。

欧氏距离体现数值上的绝对差异，而余弦距离体现方向上的相对差异。即余弦夹角更注重维度之间的差异，而不注重数值上的差异。

当研究对象的特征维度很高时，余弦相似度在高维情况下依然保持 “相同时为 1，正交时为 0，相反时为−1” 的性质，而欧氏距离的数值则受维度的影响，范围不固定，并且含义也比较模糊。

例如，
1. 统计两部剧的用户观看行为，用户 A 的观看向量为 (0,1)，用户 B 为 (1,0)；此时二者的余弦距离很大，而欧氏距离很小；我们分析两个用户对于不同视频的偏好，更关注相对差异，显然应当使用余弦距离。
2. 当我们分析用户活跃度，以登陆次数 (单位：次) 和平均观看时长 (单位：分钟) 作为特征时，余弦距离会认为 (1,10)、(10,100) 两个用户距离很近；但显然这两个用户活跃度是有着极大差异的，此时我们更关注数值绝对差异，应当使用欧氏距离。

## 3. 距离的严格定义

距离的定义：在一个集合中，如果每一对元素均可唯一确定一个实数，使得三条距离公理（正定性，对称性，三角不等式）成立，则该实数可称为这对元素之间的距离。

余弦距离满足正定性和对称性，但是不满足三角不等式，因此它并不是严格定义的距离。

比如在词向量中，comedy 和 funny、funny 和 happy 的余弦距离都很近，小于 0.3，然而 comedy 和 happy 的余弦距离却高达 0.7，这一现象明显不符合距离的定义。

在机器学习领域，被俗称为距离，却不满足三条距离公理的不仅仅有余弦距离，还有 KL 距离，也叫作相对熵，它常用于计算两个分布之间的差异，但不满足对称性和三角不等式。







